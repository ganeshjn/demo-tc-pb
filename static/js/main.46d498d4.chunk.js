(this["webpackJsonpphone-book"]=this["webpackJsonpphone-book"]||[]).push([[0],{25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(17),r=n.n(a),s=(n(25),n(19)),i=n(20),o=n(7),l=n.n(o),u=n(12),d=n(10),b=n(1);function p(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),o=i[0],l=i[1];Object(c.useEffect)((function(){l(e.fields.map((function(e,t){return Object(c.createRef)()})))}),[e.fields]),Object(c.useEffect)((function(){r(e.visible)}),[e.visible]);var u=function(e,t){switch(e.type){case"input":return Object(b.jsx)("input",{type:e.type,placeholder:e.placeholder,name:e.name,ref:o[t]})}},p=e.fields.map((function(e,t){return Object(b.jsxs)("div",{className:"pb-modal-field",children:[Object(b.jsxs)("label",{children:[e.label," ",Object(b.jsx)("span",{style:{color:"red",fontSize:".8em"},children:e.required?"*":""})]}),u(e,t)]},t)}));return Object(b.jsx)("div",{className:"pb-modal-overlay",style:{display:a?"block":"none"},children:Object(b.jsxs)("div",{className:"pb-modal",children:[Object(b.jsx)("div",{className:"pb-modal-header",children:e.title}),Object(b.jsx)("div",{className:"pb-modal-content",children:p}),Object(b.jsxs)("div",{className:"pb-modal-footer",children:[Object(b.jsx)("button",{onClick:function(t){t.preventDefault();var n={},c=-1;try{o.forEach((function(t,a){if(e.fields[a].required&&!t.current.value.trim().length)throw c=a,new Error("Mandatory field");n[t.current.name]=t.current.value})),-1===c&&(r(!1),e.onButtonOk(n))}catch(a){console.log(a.message)}},children:e.buttonOk||"Ok"}),Object(b.jsx)("button",{onClick:function(){r(!1),e.onButtonClose()},children:e.buttonClose||"Close"})]})]})})}var j=n(32),f=n(15);n(30);f.a.initializeApp({apiKey:"AIzaSyDinAJSMr19uJqLjwC0U46QAeUyAN9V6KQ",authDomain:"my-dashboard-c3414.firebaseapp.com",databaseURL:"https://my-dashboard-c3414.firebaseio.com",projectId:"my-dashboard-c3414",storageBucket:"my-dashboard-c3414.appspot.com",messagingSenderId:"538394994186",appId:"1:538394994186:web:039c300f930d3b4fca61f3"});var h=f.a.firestore(),O=[{required:!0,label:"Phone",type:"input",placeholder:"",name:"phone",value:""},{required:!0,label:"Name",type:"input",placeholder:"",name:"name",value:""},{required:!0,label:"Location",type:"input",placeholder:"",name:"location",value:""},{required:!1,label:"Email",type:"input",placeholder:"",name:"email",value:""}];function m(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(d.a)(r,2),f=o[0],m=o[1],x=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tcContacts").get();case 2:return t=e.sent,n=t.docs.map((function(e){return e.data()})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:(t=e.sent)&&a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=n.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:e.phone}),Object(b.jsx)("span",{children:e.name}),Object(b.jsx)("span",{children:e.location}),Object(b.jsx)("span",{children:e.email||" "}),Object(b.jsx)("span",{onClick:function(t){return y(e.id)},children:"\ud83d\uddd1"})]},e.id)})),y=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("tcContacts").doc(t).delete();case 2:c=n.filter((function(e){return e.id!==t})),a(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(i.a)({id:Object(j.a)()},t),e.next=3,h.collection("tcContacts").doc(c.id).set(c);case 3:a([].concat(Object(s.a)(n),[c])),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[f?Object(b.jsx)(p,{title:"New Entry",buttonOk:"Add New",onButtonOk:k,onButtonClose:function(){m(!1)},visible:f,fields:O}):"",Object(b.jsx)("div",{className:"pb-header",children:Object(b.jsx)("h1",{className:"",children:"PhoneBook"})}),Object(b.jsxs)("ul",{className:"pb-list",children:[Object(b.jsxs)("li",{className:"pg-list-head",children:[Object(b.jsx)("span",{children:"Phone"}),Object(b.jsx)("span",{children:"Name"}),Object(b.jsx)("span",{children:"Location"}),Object(b.jsx)("span",{children:"Email"}),Object(b.jsx)("span",{children:"\xa0"})]}),v]}),Object(b.jsx)("div",{className:"pb-footer",children:Object(b.jsx)("button",{onClick:function(){m(!f)},children:"Add New"})})]})}function x(){return Object(b.jsx)("div",{className:"pb-container",children:Object(b.jsx)(m,{})})}r.a.render(Object(b.jsx)(x,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.46d498d4.chunk.js.map